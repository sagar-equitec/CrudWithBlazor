@page "/updateuser/{id:int}"

@using UserManagement.Models
@using UserManagement.Data
@inject IJSRuntime JSRuntime
@inject UserService userService
@inject NavigationManager NavigationManager

<h3>Edit User</h3>

<EditForm Model="@_newUser" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="Name">Name:</label>
        <InputText id="Name" @bind-Value="_newUser.UserName" class="form-control" />
        <ValidationMessage For="@(() => _newUser.UserName)" />
    </div>

    <div class="form-group">
        <label for="Designation">Designation:</label>
        <InputText id="Designation" @bind-Value="_newUser.UserDesignation" class="form-control" />
        <ValidationMessage For="@(() => _newUser.UserDesignation)" />
    </div>


    <div class="form-group">
        <label for="City">City:</label>
        <InputText id="City" @bind-Value="_newUser.UserCity" class="form-control" />
        <ValidationMessage For="@(() => _newUser.UserCity)" />
    </div>

    <div class="form-group">
        <label for="Skills">Skills:</label>



        @foreach (var skill in _getskills)
        {
            <div class="form-check">
                <input type="checkbox" class="form-check-input" @onclick="() => ToggleSkilll(skill.SkillId)" checked="@(_selectedSkills.Contains(skill.SkillId))"/>
                <label class="form-check-label">@skill.SkillName</label>
            </div>
        }



    </div>

    <button type="submit" class="btn btn-primary">Update</button>
</EditForm>